import { useContext } from 'react';
import { Link, useLocation, useNavigate, useNavigation } from 'react-router-dom';
import { UserContext } from '../UserContext';
import './NavBar.css'

const NavBar = () => {

    const { user, setUser, SignedIn, setSignedIn, intialUser } = useContext(UserContext)
    const location = useLocation()
    const navigate = useNavigate()
    // console.log(location)
    // console.log(user)

    const logOut = () => {
        setUser({...intialUser})
        setSignedIn(false)
        console.log('sss')
        navigate(`/`)
    }

    const hhh = () => {
        console.log(djdjjddj)
    }

    return (
        <>
            <div className='navbar'>
                <div className='navbar_container'>
                    <div className='logo'>
                        <svg width="60" height="67" viewBox="0 0 60 67" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.768 39.824C5.776 39.824 4.832 39.536 3.936 38.96C3.04 38.416 2.368 37.568 1.92 36.416C1.76 36 1.648 35.552 1.584 35.072C1.552 34.592 1.536 34.128 1.536 33.68V33.056C1.536 32.832 1.552 32.624 1.584 32.432C1.648 32.24 1.776 32.144 1.968 32.144C2.032 32.144 2.064 32.176 2.064 32.24C2.064 32.432 2.048 32.624 2.016 32.816C2.016 33.008 2.016 33.2 2.016 33.392C2.016 34.896 2.384 36.048 3.12 36.848C3.888 37.616 4.832 38 5.952 38C7.072 38 8.16 37.68 9.216 37.04C10.272 36.368 11.248 35.536 12.144 34.544C12.656 34 13.232 33.184 13.872 32.096C14.544 30.976 15.232 29.728 15.936 28.352C16.672 26.944 17.408 25.504 18.144 24.032C18.88 22.528 19.584 21.088 20.256 19.712C20.928 18.304 21.536 17.072 22.08 16.016C22.592 15.024 23.28 14.24 24.144 13.664C25.008 13.088 25.744 12.688 26.352 12.464C26.128 12.464 25.648 12.48 24.912 12.512C24.208 12.544 23.456 12.576 22.656 12.608C21.856 12.64 21.216 12.672 20.736 12.704C19.52 12.768 18.288 12.912 17.04 13.136C15.792 13.36 14.688 13.664 13.728 14.048C12.768 14.432 12.08 14.928 11.664 15.536C11.376 15.952 11.232 16.432 11.232 16.976C11.232 18.064 11.712 18.848 12.672 19.328C12.736 19.392 12.768 19.424 12.768 19.424C12.768 19.52 12.688 19.616 12.528 19.712C12.368 19.776 12.208 19.792 12.048 19.76C11.792 19.6 11.472 19.344 11.088 18.992C10.736 18.608 10.4 18.208 10.08 17.792C9.792 17.376 9.6 17.024 9.504 16.736C9.344 16.256 9.264 15.872 9.264 15.584C9.264 14.816 9.552 14.192 10.128 13.712C10.704 13.2 11.456 12.816 12.384 12.56C13.312 12.272 14.304 12.08 15.36 11.984C16.416 11.856 17.44 11.776 18.432 11.744C19.424 11.712 20.272 11.696 20.976 11.696C22.608 11.696 24.064 11.696 25.344 11.696C26.656 11.664 27.856 11.648 28.944 11.648C30.064 11.648 31.136 11.664 32.16 11.696C33.216 11.728 34.32 11.776 35.472 11.84C36.304 11.872 36.864 12.032 37.152 12.32C37.472 12.608 37.632 12.96 37.632 13.376C37.632 13.92 37.456 14.512 37.104 15.152C36.752 15.792 36.432 16.384 36.144 16.928C36.016 17.184 35.808 17.376 35.52 17.504C35.232 17.6 35.12 17.504 35.184 17.216C35.248 16.928 35.312 16.624 35.376 16.304C35.44 15.952 35.472 15.616 35.472 15.296C35.472 14.72 35.36 14.208 35.136 13.76C34.912 13.28 34.528 12.944 33.984 12.752C33.664 12.624 33.28 12.544 32.832 12.512C32.384 12.448 31.904 12.416 31.392 12.416C30.432 12.416 29.472 12.512 28.512 12.704C27.552 12.896 26.8 13.2 26.256 13.616C25.584 14.128 24.896 14.96 24.192 16.112C23.52 17.264 22.88 18.496 22.272 19.808C21.664 21.12 21.12 22.272 20.64 23.264C20.608 23.328 20.592 23.424 20.592 23.552C20.592 23.712 20.736 23.792 21.024 23.792C21.472 23.792 22.096 23.792 22.896 23.792C23.728 23.792 24.592 23.808 25.488 23.84C26.384 23.84 27.152 23.84 27.792 23.84C28.496 23.84 29.056 23.888 29.472 23.984C29.888 24.048 30.096 24.256 30.096 24.608C30.096 24.736 30.016 24.992 29.856 25.376C29.632 25.888 29.376 26.336 29.088 26.72C28.832 27.072 28.624 27.44 28.464 27.824C28.432 27.952 28.288 28.064 28.032 28.16C27.776 28.256 27.68 28.24 27.744 28.112C27.872 27.824 28 27.472 28.128 27.056C28.288 26.608 28.368 26.224 28.368 25.904C28.368 25.392 28.144 25.136 27.696 25.136H20.208C19.92 25.136 19.696 25.264 19.536 25.52C18.608 27.376 17.6 29.36 16.512 31.472C15.456 33.584 14.224 35.392 12.816 36.896C12.016 37.76 11.088 38.464 10.032 39.008C8.976 39.552 7.888 39.824 6.768 39.824Z" fill="#0A6B78"/>
                            <path d="M20.2031 30.3672H39.7734C42.1641 30.3672 44.2422 30.625 46.0078 31.1406C47.7891 31.6406 49.2656 32.3359 50.4375 33.2266C51.6094 34.1172 52.4766 35.1797 53.0391 36.4141C53.6172 37.6328 53.9062 38.9531 53.9062 40.375C53.9062 42.7031 53.1719 44.7422 51.7031 46.4922C53.3906 47.4922 54.6484 48.7891 55.4766 50.3828C56.3047 51.9766 56.7188 53.7891 56.7188 55.8203C56.7188 57.5234 56.4297 59.0625 55.8516 60.4375C55.2891 61.8125 54.4219 62.9922 53.25 63.9766C52.0938 64.9453 50.625 65.6953 48.8438 66.2266C47.0781 66.7422 44.9922 67 42.5859 67H20.2031V30.3672ZM42.6328 44.4297C43.2734 44.4297 43.8984 44.4531 44.5078 44.5C45.5547 43.5 46.0781 42.3594 46.0781 41.0781C46.0781 39.75 45.5547 38.7266 44.5078 38.0078C43.4766 37.2734 41.9609 36.9062 39.9609 36.9062H27.6328V44.4297H42.6328ZM42.7734 60.5312C44.7734 60.5312 46.2891 60.1016 47.3203 59.2422C48.3672 58.3828 48.8906 57.1719 48.8906 55.6094C48.8906 54.0469 48.3672 52.8281 47.3203 51.9531C46.2891 51.0781 44.7734 50.6406 42.7734 50.6406H27.6328V60.5312H42.7734Z" fill="#0A6B78"/>
                        </svg>
                    </div>
                    { SignedIn ? 
                        (<div className='Nav_buttons'>
                            <div className="button" onClick={logOut}>
                                <p>Signout</p>
                            </div>
                        </div>)
                        :
                        location.pathname === '/login' ? 
                        (<Link to='/register'>
                            <div className="button">
                                <p>Register</p>
                            </div>
                        </Link>)
                        :
                        location.pathname === '/register' ? 
                        (<Link to='/login'>
                            <div className="button">
                                <p>Login</p>
                            </div>
                        </Link>)
                        :
                        (<div className='Nav_buttons'>
                            <Link to='/login'>
                                <div className="button">
                                    <p>Login</p>
                                </div>
                            </Link>
                            <Link to='/register'>
                                <div className="button">
                                    <p>Register</p>
                                </div>
                            </Link>
                        </div>)
                    }
                </div>
            </div>
        </>
    );
}

export default NavBar;